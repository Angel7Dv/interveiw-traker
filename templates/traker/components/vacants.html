<!-- VACANTS -->
<div class="flex flex-col justify-center">
    <h1 class="text-center text-4xl font-bold">register your Vacants</h1>

    <table class="border shadow-2xl shadow-blacks mt-8">
        <thead class="border my-5 text-center">
            <tr class="border border-black my-4">
                <td class="border-x-2 border-black px-2"> roll_Name </td>
                <td class="border-x-2 border-black px-2"> state </td>
                <td class="border-x-2 border-black px-2"> enterprise </td>
                <td class="border-x-2 border-black px-2"> options </td>
                <!-- <td class="border-x-2 border-black px-2"> my cv </td> -->
            </tr>
        </thead>
        <tbody>
            {% for i in vacants %}
            <tr class="border border-black">
                <td class="border-x-2 border-black px-2">{{ i.roll_Name }}</td>

                <td class="border-x-2 border-black px-2">
                    {{ add_vacant_form.state }}
                </td>


                {% if i.enterprise %}
                <td class="border-x-2 border-black px-2">
                    <a href="{% url 'view_enterprise' i.enterprise %}">
                        {{i.enterprise}}
                    </a>

                </td>
                {% else %}
                <td class="border-x-2 border-black px-2">
                    <form  method="POST" action="{% url 'add_new_enterprise' i.id %}">
                        {% csrf_token %}
                        <input  type="text"  name="query">                    
                        <button type="submit">Search</button>            
                      </form>
                </td>

                {% endif %}
                <td class="border-r-2 border-black px-2 flex justify-around">
                    <a href="{% url 'delete_vacant' i.id %}">delete</a>
                    <a>edit</a>
                </td>

                <!-- <td>{{ i.my_cv }}</td> -->
            </tr>
            {% endfor %}


        </tbody>


    </table>

    <div id="seeform" class="hidden flex justify-center items-center bg-black ">
        <div class="
        fixed 
        inset-x-auto 
        inset-y-0 
        py-[20%] md:py-[10%]">
            <div class="bg-gray-600 border border-black flex flex-col justify-end my-auto p-5 rounded-2xl  ">
                <div class="flex justify-end">
                    <button id="close_add_vacant" class="bg-red-500 px-2">x</button>
                </div>
                
                <form id="vacantForm" method="POST" class="flex flex-col ">
                    {% csrf_token %}
                    {{ add_vacant_form.roll_Name }}
                    {{ add_vacant_form.state }}
                    {{ add_vacant_form.roll_description }}
                    <button 
                    class="border bg-gray-900" 
                    type="submit" 
                    name="VACANTS"> enviar</button>
                </form>
            </div>

        </div>
    </div>

    <div class="bg-teal-500 text-center">
        <button id="add_vacant">
            add
        </button>
    </div>

</div>
<!-- endVACANTS -->

<script>

    const add_vacant = document.getElementById("add_vacant")
    const close_add_vacant = document.getElementById("close_add_vacant")


    const seeform = document.getElementById("seeform")
    const vacantForm = document.getElementById("vacantForm")

    vacantForm[1].value = ""

    for (var field of Array(5).keys()) { // num of fields should be exact
        vacantForm[field].className = "w-[100%] leading-none text-gray-50 p-3 focus:outline-none focus:border-blue-700 border-0 bg-gray-800 rounded mt-5"
        vacantForm[field].placeholder = vacantForm[field].name
        vacantForm[field].placeholder = vacantForm[field].name
    }

    add_vacant.onclick = function () {
        seeform.classList.toggle("hidden")
    }
    close_add_vacant.onclick = function () {
        seeform.classList.toggle("hidden")
    }


</script>

<!-- 
{{ add_vacant_form.strategy }}

{{ add_vacant_form.my_cv }}

{{ add_vacant_form.feed_back }} -->